# 使用 C# 实现一个 Event Bus

先实现一些约束，实现`IEvent`约束事件，实现`IEventHandler<TEvent>`和`IAsyncEvnetHandler<TEvent>`来约束事件的处理程序。

```csharp
public interface IEvent
{

}

public interface IEventHandler<TEvent> where TEvent: IEvnent
{

    void HandleEvent(TEvent @event);
    void HandleException(IEvent @event, Exception ex);
}

public interface IEventAsyncHandler<TEvent> where TEvent: IEvnent
{
    async Task HandleEventAsync(TEvent @evnet);
    void HandleException(TEvent @event, Exception ex);    
}
```